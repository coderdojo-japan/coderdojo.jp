<li class="dojo" id="<%= html_escape(dojo.name) %>">
  <header>
    <%= link_to lazy_image_tag(dojo.logo, alt: html_escape("CoderDojo #{dojo.name}"), class: 'dojo-picture'), sanitize_url(dojo.safe_url),
              target: "_blank", rel: "external noopener noreferrer" %>
    <span class="dojo-name">
      <%= link_to html_escape("#{dojo.name} (#{dojo.prefecture.name})"), sanitize_url(dojo.safe_url), target: "_blank", rel: "external noopener noreferrer" %>
      <% if not dojo.counter == 1 %>
        <span class="dojo-counter"
              data-original-title="道場数"
              data-placement="bottom"
              data-toggle="tooltip"><%= dojo.counter %></span>
      <% end %>
    </span>
  </header>

  <ul class="tags">
    <% dojo.tags.first(5).each do |tag| %>
      <li><%= html_escape(tag) %></li>
    <% end %>

    <% if dojo.tags.length > 5 %>
      <li data-toggle="tooltip"
          data-placement="bottom"
          data-html="true"
          data-template='<div class="tooltip tags-more-tooltip" role="tooltip">
	   	           <div class="tooltip-arrow"></div>
		           <div class="tooltip-inner"></div>
		         </div>'
          title="<%= html_escape(dojo.tags[5..].join(', ')) %>">...</li>
    <% end %>
  </ul>

  <p class="dojo-description">
    <%= html_escape(dojo.description) %>
    <% if dojo.is_private %>
      <%= link_to 'Private', doc_path('private-dojo'), class: 'dojo-private' %>
    <% end %>
  </p>
</li> 
