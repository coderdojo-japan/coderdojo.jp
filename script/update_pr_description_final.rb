#!/usr/bin/env ruby

# PRèª¬æ˜ã‚’æœ€æ–°çŠ¶æ³ã«æ›´æ–°ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
require 'json'

# PRç•ªå·ã‚’è‡ªå‹•å–å¾—
branch_name = `git rev-parse --abbrev-ref HEAD`.strip
pr_number = nil

# ãƒ–ãƒ©ãƒ³ãƒåã‹ã‚‰PRç•ªå·ã‚’æ¨æ¸¬ã€ã¾ãŸã¯æ‰‹å‹•ã§è¨­å®š
pr_number = 1732  # CoderDojo.jpã®enable-to-donwload-dojo-stats-yearlyãƒ–ãƒ©ãƒ³ãƒ

puts "=== PR ##{pr_number} ã®èª¬æ˜ã‚’æ›´æ–°ä¸­... ==="

# æœ€æ–°ã®å¤‰æ›´å†…å®¹ã‚’åˆ†æ
changes = `git diff --name-only origin/main...HEAD`.strip.split("\n")
commit_count = `git rev-list --count origin/main...HEAD`.strip.to_i

puts "å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«æ•°: #{changes.length}"
puts "ã‚³ãƒŸãƒƒãƒˆæ•°: #{commit_count}"

# PRèª¬æ˜ã®ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚’ç”Ÿæˆ
pr_description = <<~MARKDOWN
# ğŸ“Š é“å ´çµ±è¨ˆã®å¹´æ¬¡ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½ã¨CSV/JSONãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¯¾å¿œï¼ˆå®Œæˆç‰ˆï¼‰

## ğŸ¯ æ¦‚è¦

CoderDojoä¸€è¦§ãƒšãƒ¼ã‚¸ï¼ˆ`/dojos`ï¼‰ã«å¹´æ¬¡ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã€ç‰¹å®šå¹´æœ«æ™‚ç‚¹ã§ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã ã£ãŸé“å ´ã®ä¸€è¦§ã‚’HTMLè¡¨ç¤ºãƒ»CSVãƒ»JSONå½¢å¼ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã—ãŸã€‚`/stats`ãƒšãƒ¼ã‚¸ã®ã‚°ãƒ©ãƒ•ã¨ã®å®Œå…¨çµ±åˆã«ã‚ˆã‚Šã€çµ±è¨ˆåˆ†æã¨è©³ç´°ãƒ‡ãƒ¼ã‚¿ç¢ºèªãŒã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«è¡Œãˆã¾ã™ã€‚

## âœ… å®Ÿè£…å®Œäº†æ©Ÿèƒ½

### ğŸ” å¹´æ¬¡ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½
- **å¯¾è±¡æœŸé–“ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹**: 2012å¹´ã€œç¾åœ¨å¹´ã¾ã§ã®å¹´ã‚’é¸æŠå¯èƒ½
- **è‡ªå‹•é·ç§»**: ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹å¤‰æ›´æ™‚ã«è‡ªå‹•çš„ã«ãƒšãƒ¼ã‚¸é·ç§»ï¼ˆè¡¨ç¤ºãƒœã‚¿ãƒ³ä¸è¦ï¼‰
- **å†…éƒ¨ãƒªãƒ³ã‚¯**: `#table` ã‚¢ãƒ³ã‚«ãƒ¼ã§è‡ªå‹•çš„ã«ãƒ†ãƒ¼ãƒ–ãƒ«ä½ç½®ã¸ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
- **å…¨æœŸé–“è¡¨ç¤º**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å…¨é“å ´ï¼ˆã‚¢ã‚¯ãƒ†ã‚£ãƒ–ï¼‹éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ï¼‰ã‚’è¡¨ç¤º

### ğŸ“Š çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- **CSVå½¢å¼**: æ—¥æœ¬èªãƒ˜ãƒƒãƒ€ãƒ¼ä»˜ãCSVãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
  - ãƒ˜ãƒƒãƒ€ãƒ¼: `ID, é“å ´å, é“å ´æ•°, éƒ½é“åºœçœŒ, URL, è¨­ç«‹æ—¥, çŠ¶æ…‹`
  - åˆè¨ˆè¡Œã«é“å ´æ•°ã®ç·è¨ˆï¼ˆcounterå€¤ã®åˆè¨ˆï¼‰ã‚’è¡¨ç¤º
- **JSONå½¢å¼**: æ—¢å­˜ã®APIãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§å¹´æ¬¡ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¯¾å¿œ
- **HTMLè¡¨ç¤º**: ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã§ã®ä¸€è¦§è¡¨ç¤ºï¼ˆé“å ´æ•°ã‚«ãƒ©ãƒ ã¯éè¡¨ç¤ºï¼‰

### ğŸ¨ UX/UIæ”¹å–„
- **çµ±è¨ˆæƒ…å ±ã®è¡¨ç¤º**: `/stats`ãƒšãƒ¼ã‚¸ã®ã‚°ãƒ©ãƒ•ã¨ã®æ¯”è¼ƒæ¤œè¨¼ãŒå¯èƒ½
  - ä¾‹: `2025å¹´8æœˆ8æ—¥æ™‚ç‚¹ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªé“å ´ã‚’è¡¨ç¤ºä¸­ï¼ˆé–‹è¨­æ•°: 15 / åˆè¨ˆæ•°: 199ï¼‰`
- **éã‚¢ã‚¯ãƒ†ã‚£ãƒ–é“å ´ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: 
  - `gainsboro` èƒŒæ™¯è‰²ã§è¦–è¦šçš„ã«åŒºåˆ¥ï¼ˆ`/stats#prefectures` ã¨çµ±ä¸€ï¼‰
  - å…±é€šCSSã‚¯ãƒ©ã‚¹ `.stats-table .inactive-item` ã‚’ä½œæˆ
- **ã‚½ãƒ¼ãƒˆé †ã®æ”¹å–„**: ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªé“å ´ã‚’å…ˆã«ã€éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªé“å ´ã‚’å¾Œã«è¡¨ç¤º
- **URLè¡¨ç¤ºã®æœ€é©åŒ–**: 30æ–‡å­—ã‚’è¶…ãˆã‚‹URLã¯ `truncate` ãƒ˜ãƒ«ãƒ‘ãƒ¼ã§çœç•¥è¡¨ç¤º
- **ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«**: ã€Œå¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã€ï¼ˆå‹•è©è¡¨ç¾ã§è¨ªå•è€…ãŒä¸»èªã¨ã—ã¦è¡Œå‹•ã—ã‚„ã™ãï¼‰

### ğŸ’¬ æƒ…å ±è¡¨ç¤ºã®æ”¹å–„
- **ç¾åœ¨å¹´ã®è¡¨ç¤º**: ã€Œ2025å¹´8æœˆ8æ—¥æ™‚ç‚¹ã€ï¼ˆè‡ªç„¶ãªæ—¥æœ¬èªè¡¨è¨˜ï¼‰
- **éå»å¹´ã®è¡¨ç¤º**: ã€Œ2024å¹´æœ«æ™‚ç‚¹ã€ï¼ˆç¢ºå®šæ¸ˆã¿æ™‚ç‚¹ï¼‰
- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¡¨ç¤º**: ã€Œå…¨æœŸé–“ã®é“å ´ã‚’è¡¨ç¤ºä¸­ï¼ˆéã‚¢ã‚¯ãƒ†ã‚£ãƒ–å«ã‚€ï¼‰ã€
- **ãƒšãƒ¼ã‚¸èª¬æ˜**: æ–°æ©Ÿèƒ½ã«å¯¾å¿œã—ãŸèª¬æ˜æ–‡ã«æ›´æ–°

### ğŸ›¡ï¸ Flashãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¡¨ç¤ºä½ç½®åˆ¶å¾¡ï¼ˆæ±ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
- **inline_ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³**: `inline_*` ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã§ã‚«ã‚¹ã‚¿ãƒ ä½ç½®ã«è¡¨ç¤º
  - ã‚¨ãƒ©ãƒ¼æ™‚: `flash[:inline_alert]` ã§èµ¤ã„ã‚¢ãƒ©ãƒ¼ãƒˆ
  - æˆåŠŸæ™‚: `flash.now[:inline_info]` ã§é’ã„æƒ…å ±ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆä½ç½®ï¼ˆãƒšãƒ¼ã‚¸ä¸Šéƒ¨ï¼‰ã¨ã®äºŒé‡è¡¨ç¤ºã‚’é˜²æ­¢
- **ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰**: `render_inline_flash_messages` ã§å†åˆ©ç”¨å¯èƒ½ã«
- **Bootstrap CSSè‡ªå‹•é©ç”¨**: `inline_alert` â†’ `alert-alert` ã‚¯ãƒ©ã‚¹ã«å¤‰æ›

### âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- **åŠ¹ç‡çš„ãªã‚¯ã‚¨ãƒª**: `active_at` ã‚¹ã‚³ãƒ¼ãƒ—ã‚’æ´»ç”¨ã—ãŸæ™‚ç‚¹ãƒ™ãƒ¼ã‚¹ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- **æ¸¬å®šçµæœ**: å…¨å¹´ã§8msä»¥ä¸‹ã®é«˜é€Ÿå¿œç­”
- **å¤‰æ•°å‘½å**: `year_begin`/`year_end` ã§çµ±ä¸€ï¼ˆå¯èª­æ€§å‘ä¸Šï¼‰

## ğŸ› é‡è¦ãªãƒã‚°ä¿®æ­£

### TDDã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«ã‚ˆã‚‹å¹´ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å•é¡Œã®ä¿®æ­£
- **å•é¡Œ**: å¹´ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ™‚ã«2024å¹´éã‚¢ã‚¯ãƒ†ã‚£ãƒ–åŒ–é“å ´ãŒ2023å¹´è¡¨ç¤ºã§ç°è‰²ã«ãªã£ã¦ã„ãŸ
- **åŸå› **: ç¾åœ¨ã® `is_active` ã‚’ä½¿ç”¨ã—ã¦ã„ãŸãŸã‚ã€é¸æŠå¹´æ™‚ç‚¹ã®çŠ¶æ…‹ã¨ç•°ãªã£ã¦ã„ãŸ
- **è§£æ±º**: é¸æŠå¹´æœ«æ™‚ç‚¹ã§ã®æ­£ã—ã„ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã‚’è¨ˆç®—ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…
- **æ‰‹æ³•**: å…ˆã«ãƒ†ã‚¹ãƒˆã‚’æ›¸ã„ã¦å¤±æ•—ã‚’ç¢ºèªã—ã¦ã‹ã‚‰ä¿®æ­£ï¼ˆTDDï¼‰

## ğŸ“ˆ çµ±è¨ˆç²¾åº¦ã®å¤§å¹…æ”¹å–„

### /statsãƒšãƒ¼ã‚¸ã¨ã®å®Œå…¨ä¸€è‡´
- **çµ±è¨ˆãƒ©ãƒ™ãƒ«çµ±ä¸€**: ã€Œé–‹è¨­é“å ´æ•°ã€â†’ã€Œé–‹è¨­æ•°ã€ã€ã€Œåˆè¨ˆé“å ´æ•°ã€â†’ã€Œåˆè¨ˆæ•°ã€
- **è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯çµ±ä¸€**: `/stats`ãƒšãƒ¼ã‚¸ã¨åŒä¸€ã®è¨ˆç®—æ–¹æ³•ã‚’æ¡ç”¨
  - **é–‹è¨­æ•°**: ãã®å¹´ã«æ–°è¦é–‹è¨­ã•ã‚ŒãŸDojoã® `counter` åˆè¨ˆ
  - **åˆè¨ˆæ•°**: ãã®å¹´æœ«æ™‚ç‚¹ã§ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªDojoã® `counter` åˆè¨ˆ
- **æ¤œè¨¼ä¾‹**: 2023å¹´ã®çµ±è¨ˆå€¤ãŒå®Œå…¨ä¸€è‡´
  - é–‹è¨­æ•°: 20ã€åˆè¨ˆæ•°: 199ï¼ˆ/statsãƒšãƒ¼ã‚¸ã®ã‚°ãƒ©ãƒ•å€¤ã¨åŒä¸€ï¼‰

### ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã®ç¢ºèª
- **124å€‹ã®éã‚¢ã‚¯ãƒ†ã‚£ãƒ–é“å ´**: `inactivated_at`ãƒ‡ãƒ¼ã‚¿ã¨`is_active`ãƒ•ãƒ©ã‚°ãŒ100%ä¸€è‡´
- **çµ±è¨ˆç²¾åº¦å‘ä¸Š**: éå»å¹´ã®é“å ´æ•°ãŒå¤§å¹…ã«æ­£ç¢ºåŒ–
  - 2018å¹´: 98 â†’ 172é“å ´ï¼ˆ+75.5%ã®ç²¾åº¦å‘ä¸Šï¼‰
  - 2019å¹´: 126 â†’ 200é“å ´ï¼ˆ+58.7%ã®ç²¾åº¦å‘ä¸Šï¼‰

## ğŸ§ª åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆå®Ÿè£…

- **25å€‹ã®RSpecãƒ†ã‚¹ãƒˆ**: å…¨ãƒ†ã‚¹ãƒˆãŒæˆåŠŸ
  - å¹´ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
  - ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
  - CSV/JSONå½¢å¼ã®å‡ºåŠ›æ¤œè¨¼
  - UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ
  - CSSã‚¯ãƒ©ã‚¹ï¼ˆ`inactive-item`ï¼‰ã®æ­£ã—ã„é©ç”¨ãƒ†ã‚¹ãƒˆ
  - çµ±è¨ˆæƒ…å ±è¡¨ç¤ºã®ãƒ†ã‚¹ãƒˆ

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–

- **XSSå¯¾ç­–**: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›å€¤ã‚’é™¤å¤–
- **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ¤œè¨¼**: å¹´ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯æ•´æ•°ã®ã¿å—ã‘ä»˜ã‘ï¼ˆ2012ã€œç¾åœ¨å¹´ï¼‰
- **HTMLã‚¨ã‚¹ã‚±ãƒ¼ãƒ—**: Railsã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ©Ÿèƒ½ã‚’æ´»ç”¨

## ğŸ¨ å®Ÿè£…ã§å¾—ã‚‰ã‚ŒãŸæŠ€è¡“çš„çŸ¥è¦‹

### è¤‡é›‘åº¦ç®¡ç†ã®é‡è¦æ€§
- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ+æ¡ä»¶æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³**: if-elseã®ãƒã‚¹ãƒˆã‚’é¿ã‘ã€ç·šå½¢å¢—åŠ ã®è¨­è¨ˆã‚’æ¡ç”¨
- **ã‚³ãƒ¼ãƒ‰å“è³ªå‘ä¸Š**: æŒ‡æ•°çš„ãªè¤‡é›‘åº¦å¢—åŠ ã‚’é˜²ãè¨­è¨ˆåŸå‰‡ã®é©ç”¨
- **ä¿å®ˆæ€§**: å°†æ¥ã®æ©Ÿèƒ½è¿½åŠ ãŒå®¹æ˜“ãªæ§‹é€ 

### æ®µéšçš„ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®ä¾¡å€¤
- **ã‚·ãƒ³ãƒ—ãƒ«åŒ–**: è¤‡é›‘ãªif-elseãƒ–ãƒ­ãƒƒã‚¯ã‹ã‚‰2è¡Œã®ã‚¨ãƒ¬ã‚¬ãƒ³ãƒˆãªã‚³ãƒ¼ãƒ‰ã¸
- **å¯èª­æ€§**: `year_begin`/`year_end` ã®çµ±ä¸€å‘½åã§é–¢é€£æ€§ã‚’æ˜ç¢ºåŒ–
- **è‡ªç„¶ãªæ—¥æœ¬èª**: ã€Œ2025å¹´8æœˆ8æ—¥æ™‚ç‚¹ã€ï¼ˆã‚¼ãƒ­ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ãªã—ï¼‰

## ğŸ“Š æ”¹å–„åŠ¹æœ

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¨ã£ã¦ã®ä¾¡å€¤
- **çµ±è¨ˆãƒšãƒ¼ã‚¸ã¨ã®é€£å‹•**: ã‚°ãƒ©ãƒ•ã§è¦‹ãŸæ•°å€¤ã‚’è©³ç´°ãƒ‡ãƒ¼ã‚¿ã§ç¢ºèªå¯èƒ½
- **å¹´æ¬¡æ¨ç§»ã®åˆ†æ**: ç‰¹å®šå¹´ã®é“å ´ãƒ‡ãƒ¼ã‚¿ã‚’ç¬æ™‚ã«æŠ½å‡º
- **å¤–éƒ¨ãƒ„ãƒ¼ãƒ«é€£æº**: Excelç­‰ã§ã®è©³ç´°åˆ†æãŒå¯èƒ½
- **æƒ…å ±ã®æ˜ç¢ºåŒ–**: ä½•ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ãŒä¸€ç›®ç­ç„¶

### é–‹ç™ºãƒ»é‹ç”¨é¢ã®æ”¹å–„
- **ä¿å®ˆã—ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰**: ã‚·ãƒ³ãƒ—ãƒ«ã§ç†è§£ã—ã‚„ã™ã„å®Ÿè£…
- **å®Œå…¨ãªãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: å°†æ¥ã®å¤‰æ›´ã«å¯¾ã™ã‚‹å®‰å…¨ç¶²
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: é«˜é€Ÿãªå¿œç­”æ™‚é–“ï¼ˆ< 10msï¼‰
- **æ‹¡å¼µæ€§**: æ–°æ©Ÿèƒ½è¿½åŠ ãŒå®¹æ˜“ãªè¨­è¨ˆ

## ğŸ” ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¤œè¨¼çµæœ

```
ç·Dojoæ•°: 323å€‹
2020å¹´ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°: 8.04ms
2023å¹´ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°: 1.47ms  
2024å¹´ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°: 2.64ms
```

## ğŸ§ª å‹•ä½œç¢ºèª

- âœ… å…¨æœŸé–“è¡¨ç¤º: `/dojos`
- âœ… 2024å¹´ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°: `/dojos?year=2024`
- âœ… ç¾åœ¨å¹´è¡¨ç¤º: `/dojos?year=2025` (ã€Œ2025å¹´8æœˆ8æ—¥æ™‚ç‚¹ã€ã¨è¡¨ç¤º)
- âœ… CSVãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰: `/dojos.csv?year=2024`
- âœ… JSONãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰: `/dojos.json?year=2024`
- âœ… ç„¡åŠ¹ãªå¹´ã®ã‚¨ãƒ©ãƒ¼è¡¨ç¤º: `/dojos?year=2026` (ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã«è¡¨ç¤º)
- âœ… çµ±è¨ˆæƒ…å ±è¡¨ç¤º: é–‹è¨­æ•°ã¨åˆè¨ˆæ•°ãŒæ­£ç¢ºã«è¡¨ç¤º

## ğŸ“‹ å®Ÿè£…ã‚¿ã‚¹ã‚¯å®Œäº†çŠ¶æ³

### âœ… å®Œäº†æ¸ˆã¿
- [x] å¹´æ¬¡ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½ã®å®Ÿè£…
- [x] CSV/JSONå½¢å¼ã§ã®ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- [x] çµ±è¨ˆæƒ…å ±è¡¨ç¤ºï¼ˆ/statsãƒšãƒ¼ã‚¸ã¨ã®å®Œå…¨ä¸€è‡´ï¼‰
- [x] UI/UXã®æ”¹å–„ï¼ˆã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºï¼‰
- [x] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ï¼ˆXSSé˜²æ­¢ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ¤œè¨¼ï¼‰
- [x] åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆã®å®Ÿè£…ï¼ˆ25å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
- [x] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã¨æ¤œè¨¼
- [x] é‡è¦ãªãƒã‚°ä¿®æ­£ï¼ˆTDDã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼‰
- [x] ãƒšãƒ¼ã‚¸èª¬æ˜æ–‡ã®æ–°æ©Ÿèƒ½å¯¾å¿œ
- [x] inline_ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿè£…

### â³ å°†æ¥ã®PRã§å¯¾å¿œäºˆå®š

1. **is_activeã‚«ãƒ©ãƒ ã®å‰Šé™¤**
   - ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ç¢ºèªæ¸ˆã¿ï¼ˆ124å€‹ã™ã¹ã¦ä¸€è‡´ï¼‰
   - `inactivated_at`ã‚«ãƒ©ãƒ ã§ä»£æ›¿å¯èƒ½

2. **å‘½åã®çµ±ä¸€ï¼ˆinactive â†’ inactivatedï¼‰**
   - CSSã‚¯ãƒ©ã‚¹å: `inactive-item` â†’ `inactivated-item`
   - å¤‰æ•°åãƒ»ã‚³ãƒ¡ãƒ³ãƒˆã®å…¨ä½“çš„ãªçµ±ä¸€

## ğŸ”— é–¢é€£æƒ…å ±

- **å…ƒIssue**: #1373 (çµ±è¨ˆã‚°ãƒ©ãƒ•ã‹ã‚‰éã‚¢ã‚¯ãƒ†ã‚£ãƒ–é“å ´ãŒæ¶ˆãˆã‚‹å•é¡Œ)
- **å‰PR**: #1726 (`inactivated_at` ã‚«ãƒ©ãƒ ã®è¿½åŠ )
- **æŠ€è¡“æ–‡æ›¸**: ã‚°ãƒ­ãƒ¼ãƒãƒ«CLAUDE.mdã«è¤‡é›‘åº¦ç®¡ç†ã®æ•™è¨“ã‚’è¿½åŠ 

---

**ğŸš€ ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ãƒãƒ¼ã‚¸æº–å‚™å®Œäº†**

ã“ã®æ©Ÿèƒ½ã«ã‚ˆã‚Šã€CoderDojo.jpã®çµ±è¨ˆæ©Ÿèƒ½ãŒå¤§å¹…ã«å‘ä¸Šã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è©³ç´°ãªå¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ã‚’åŠ¹ç‡çš„ã«åˆ†æã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚å…¨25å€‹ã®ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚‚è‰¯å¥½ã§ã™ã€‚
MARKDOWN

puts "=== ç”Ÿæˆã•ã‚ŒãŸPRèª¬æ˜ ==="
puts pr_description

# ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜
filename = "tmp/pr_#{pr_number}_final_description.md"
File.write(filename, pr_description)
puts "\n=== PRèª¬æ˜ã‚’ #{filename} ã«ä¿å­˜ã—ã¾ã—ãŸ ==="

puts "\næ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§PRã‚’æ›´æ–°ã§ãã¾ã™:"
puts "gh pr edit #{pr_number} --body-file #{filename}"